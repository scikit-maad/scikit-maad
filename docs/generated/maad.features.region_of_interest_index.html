

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>maad.features.region_of_interest_index &mdash; scikit-maad 1.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="maad.features.all_temporal_alpha_indices" href="maad.features.all_temporal_alpha_indices.html" />
    <link rel="prev" title="maad.features.acoustic_gradient_index" href="maad.features.acoustic_gradient_index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> scikit-maad
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../sound.html">Sound processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rois.html">Segmentation methods</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../features.html">Acoustic features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../features.html#spectro-temporal-features">Spectro-temporal features</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../features.html#alpha-acoustic-indices">Alpha acoustic indices</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="maad.features.temporal_median.html">maad.features.temporal_median</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.temporal_entropy.html">maad.features.temporal_entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.acoustic_richness_index.html">maad.features.acoustic_richness_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.temporal_activity.html">maad.features.temporal_activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.temporal_events.html">maad.features.temporal_events</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.acoustic_complexity_index.html">maad.features.acoustic_complexity_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.frequency_entropy.html">maad.features.frequency_entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.number_of_peaks.html">maad.features.number_of_peaks</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.spectral_entropy.html">maad.features.spectral_entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.spectral_activity.html">maad.features.spectral_activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.spectral_events.html">maad.features.spectral_events</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.spectral_cover.html">maad.features.spectral_cover</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.soundscape_index.html">maad.features.soundscape_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.bioacoustics_index.html">maad.features.bioacoustics_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.acoustic_diversity_index.html">maad.features.acoustic_diversity_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.acoustic_eveness_index.html">maad.features.acoustic_eveness_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.roughness.html">maad.features.roughness</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.temporal_leq.html">maad.features.temporal_leq</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.surface_roughness.html">maad.features.surface_roughness</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.tfsd.html">maad.features.tfsd</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.more_entropy.html">maad.features.more_entropy</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.acoustic_gradient_index.html">maad.features.acoustic_gradient_index</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">maad.features.region_of_interest_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.all_temporal_alpha_indices.html">maad.features.all_temporal_alpha_indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="maad.features.all_spectral_alpha_indices.html">maad.features.all_spectral_alpha_indices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#temporal-features">Temporal features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../features.html#spectral-features">Spectral features</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../spl.html">Sound pressure level</a></li>
<li class="toctree-l1"><a class="reference internal" href="../util.html">Utilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Example Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_auto_examples/index.html">Example gallery</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">scikit-maad</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../features.html">Acoustic features</a> &raquo;</li>
        
      <li>maad.features.region_of_interest_index</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/generated/maad.features.region_of_interest_index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="maad-features-region-of-interest-index">
<h1>maad.features.region_of_interest_index<a class="headerlink" href="#maad-features-region-of-interest-index" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="maad.features.region_of_interest_index">
<code class="sig-prename descclassname"><span class="pre">maad.features.</span></code><code class="sig-name descname"><span class="pre">region_of_interest_index</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Sxx_dB_noNoise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_param1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'relative'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_param1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask_param2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_roi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_roi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5120000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_rain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/maad/features/alpha_indices.html#region_of_interest_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#maad.features.region_of_interest_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute an acoustic activity index based on the regions of interested detected on a spectrogram.</p>
<p>The function first find regions of interest (ROI) and then compute the number and cover area 
on the spectrogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Sxx_dB_noNoise</strong><span class="classifier">ndarray of floats</span></dt><dd><p>Spectrogram without noise (i.e matrix of spectrum)</p>
</dd>
<dt><strong>tn</strong><span class="classifier">1d ndarray of floats</span></dt><dd><p>time vector (horizontal x-axis)</p>
</dd>
<dt><strong>fn</strong><span class="classifier">1d ndarray of floats</span></dt><dd><p>Frequency vector (vertical y-axis)</p>
</dd>
<dt><strong>smooth_param1</strong><span class="classifier">scalar, default is 1</span></dt><dd><p>Standard deviation of the gaussian kernel used to smooth the image 
The larger is the number, the smoother will be the image and the longer 
it takes. Standard values should fall between 0.5 to 3</p>
</dd>
<dt><strong>mask_mode</strong><span class="classifier">string in {‘relative’, ‘absolute’}, optional, default is ‘relative’</span></dt><dd><dl class="simple">
<dt>if ‘relative’:</dt><dd><p>Binarize an image based on a double relative threshold.  
The values used for the thresholding depends on the values found 
in the image. =&gt; relative threshold</p>
</dd>
<dt>if ‘absolute’ :</dt><dd><p>Binarize an image based on a double relative threshold.  
The values used for the thresholding are independent of the values 
in the image =&gt; absolute threshold</p>
</dd>
</dl>
</dd>
<dt><strong>mask_param1</strong><span class="classifier">scalar, default is 6</span></dt><dd><p>if ‘relative’ : bin_h
if ‘absolute’ : bin_std</p>
</dd>
<dt><strong>mask_param2</strong><span class="classifier">scalar, default is 0.5</span></dt><dd><p>if ‘relative’ : bin_l
if ‘absolute’ : bin_per</p>
</dd>
<dt><strong>min_roi, max_roi</strong><span class="classifier">scalars, optional, default</span></dt><dd><p>Define the minimum and the maximum area possible for an ROI. If None,  
the minimum ROI area is 1 pixel and the maximum ROI area is the area of  
the image</p>
</dd>
<dt><strong>remove_rain</strong><span class="classifier">boolean, default is False</span></dt><dd><p>If True, vertical frequency spikes due to rain are removed as possible
by applying a morphological mathematical image processing : grey opening</p>
</dd>
<dt><strong>display</strong><span class="classifier">boolean, default is false</span></dt><dd><p>plot graphs and spectrograms</p>
</dd>
<dt><strong>/*/*kwargs optional. This parameter is used by plt.plot and savefig functions</strong></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ROItotal</strong><span class="classifier">float</span></dt><dd><p>Total number of ROIs found. The higher is the number of ROI, the higher
is the acoustic abondance and/or richness expected</p>
</dd>
<dt><strong>ROIcover</strong><span class="classifier">float</span></dt><dd><p>Percentage of spectrogram cover. The higher is the cover percentage, 
the higher is the acoustic richness expected.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">,</span> <span class="n">fs</span> <span class="o">=</span> <span class="n">maad</span><span class="o">.</span><span class="n">sound</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;../data/cold_forest_daylight.wav&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sxx_power</span><span class="p">,</span><span class="n">tn</span><span class="p">,</span><span class="n">fn</span><span class="p">,</span><span class="n">_</span> <span class="o">=</span> <span class="n">maad</span><span class="o">.</span><span class="n">sound</span><span class="o">.</span><span class="n">spectrogram</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">fs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sxx_noNoise</span><span class="o">=</span> <span class="n">maad</span><span class="o">.</span><span class="n">sound</span><span class="o">.</span><span class="n">median_equalizer</span><span class="p">(</span><span class="n">Sxx_power</span><span class="p">)</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">Sxx_dB_noNoise</span> <span class="o">=</span> <span class="n">maad</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">power2dB</span><span class="p">(</span><span class="n">Sxx_noNoise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ROItotal</span><span class="p">,</span> <span class="n">ROIcover</span> <span class="o">=</span> <span class="n">maad</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">region_of_interest_index</span><span class="p">(</span><span class="n">Sxx_dB_noNoise</span><span class="p">,</span> <span class="n">tn</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The total number of ROIs found in the spectrogram is </span><span class="si">%2.0f</span><span class="s1">&#39;</span> <span class="o">%</span><span class="n">ROItotal</span><span class="p">)</span>
<span class="go">The total number of ROIs found in the spectrogram is 265</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The percentage of spectrogram covered by ROIs is </span><span class="si">%2.0f%%</span><span class="s1">&#39;</span> <span class="o">%</span><span class="n">ROIcover</span><span class="p">)</span>
<span class="go">The percentage of spectrogram covered by ROIs is 12%</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="maad.features.all_temporal_alpha_indices.html" class="btn btn-neutral float-right" title="maad.features.all_temporal_alpha_indices" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="maad.features.acoustic_gradient_index.html" class="btn btn-neutral float-left" title="maad.features.acoustic_gradient_index" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, scikit-maad development team.

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>